<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<div id="app"></div>
	<script src="../react-0.14.7/build/react-with-addons.js"></script>
	<script src="../react-0.14.7/build/react-dom.js"></script>
	<script src="../browser.js"></script>
	<script type="text/babel">

		var UnameApp = React.createClass({
			render: function(){
				return (
					<p>Username:
						<input type='text' name='username' value={this.props.usn} onChange={this.props.handleUsn}/>
					</p>
					);
			}
		});

		var SexApp = React.createClass({
			render: function(){
				return (
					<p>Sex: 
						<input type="radio" name='sex' value='male' selected="true" onChange={this.props.handleSx} />Male
						<input type="radio" name='sex' value='female' onChange={this.props.handleSx} />Female
					</p>
					);
			}
		});

		var SchoolApp = React.createClass({
			render: function(){
				return (
					<p>School: 
						<select onChange={this.props.handleScl}>
							<option>Oxford</option>
							<option>Yale</option>
							<option>Cambridge</option>
							<option>HIT</option>
						</select>
					</p>
					);
			}
		});

		var SubmitApp = React.createClass({
			render: function(){
				return (
					<p>
						<input type="submit" value="submit" />
					</p>
					);
			}
		});


		var FormApp = React.createClass({

			getInitialState: function(){
				return{
					uname: "Josefina",
					sex: "",
					school: ""

				}
			},

			handleUname: function(e){
				this.setState({
					uname: e.target.value
				});
			},
			handleSex: function(e){
				this.setState({
					sex: e.target.value
				})
			},
			handleSchool: function(e){
				this.setState({
					school: e.target.value
				});
			},
			handleSubmit: function(e){
				var result = {
					uname: this.state.uname,
					sex: this.state.sex,
					school: this.state.school
				};
				console.log(result);
				e.preventDefault();
			},
			mixins: [ React.addons.LinkedStateMixin ],
					
			render: function(){
				return (
					<form onSubmit={this.handleSubmit}>

						<UnameApp usn={this.state.uname} handleUsn={this.handleUname}/>
						<SexApp handleSx={this.handleSex}/>
						<SchoolApp  handleScl={this.handleSchool}/>
						<SubmitApp />
						<p>USERNAME: <input type="text" valueLink={this.linkState('uname')}/></p>
						<p>SEX: <input type="text" valueLink={this.linkState('sex')}/></p>
						<p>SCHOOL: <input type="text" valueLink={this.linkState('school')}/></p>



					</form>
					);
			}
		});

		ReactDOM.render(
			<FormApp/>,
			document.getElementById('app')

			);

	</script>
</body>
</html>